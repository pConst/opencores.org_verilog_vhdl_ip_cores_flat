<head>
<link rel="stylesheet" href="../../style.css" type="text/css">
</head>
<a href="javascript:history.go(-1)" onMouseOver="self.status=document.referrer;return true">Go Back</a>
<p align='right'><a href='virtex7_pcie_dma.tar.gz'>Source code</a></p>
<body>
<div class="main">
 <div class="mid" id="dm">
  <div class="content" id="dmc">
   <h2>
    Details
   </h2>
   <p>
    Name: virtex7_pcie_dma
    <br/>
    Created: Dec 18, 2014
    <br/>
    Updated: Apr 30, 2015
    <br/>
    SVN Updated: Apr 30, 2015
    
    
    
    
    
    
   </p>
   <h2>
    Other project properties
   </h2>
   <p>
    Category:
    
     Communication controller
    
    <br/>
    Language:
    
     VHDL
    
    <br/>
    Development status:
    
     Beta
    
    <br/>
    Additional info:
    
     FPGA proven
    
    ,
    
     Specification done
    
    <br/>
    WishBone Compliant: No
    <br/>
    License: LGPL
   </p>
   <div id="d_Block Diagram">
    <h2>
     
     
     Block Diagram
    </h2>
    <p id="p_Block Diagram">
     <img src="usercontent,img,1420639873" alt="dma_core_structure"/>
    </p>
   </div>
   <div id="d_Description">
    <h2>
     
     
     Description
    </h2>
    <p id="p_Description">
    </p>
    <p>
     The PCIe Engine is designed by
     
      Nikhef - Amsterdam, The Netherlands
     
     - for the
     
      ATLAS
     
     / FELIX project.
     Its main purpose is to provide a simple Direct Memory Access (DMA)  interface to the Xilinx Virtex-7 PCIe Gen3 hard block.
     The Engine is specifically designed for the 256 bit wide AXI4-Stream interface of the
     
      Xilinx Virtex-7 FPGA Gen3 Integrated Block for PCI Express (PCIe)
     
     .
    </p>
    <p>
     <h4>
      DMA read and write
     </h4>
     The main purpose of the PCIe Engine is therefore to provide an interface to standard FIFOs.
     This is the done by the
     block in the diagram above.
     The read/write FIFOs have the same width as the Xilinx AXI4-Stream interface (256 bits) and run at 250 MHz.
     The application side of the FPGA design can simply read or write the FIFOs.
     The PCIe Engine will handle the transfer to Host PC memory, according to the addresses specified in the
     .
    </p>
    <p>
     <h4>
      DMA control
     </h4>
     Another functionality of the Engine is thus to manage a set of DMA descriptors.
     Descriptors consist of an address, a read/write flag, the transfer size (number of 32 bit words) and an enable line.
     Descriptors are handled by the
     block.
     These descriptors are mapped as normal PCIe memory or IO registers.
     Besides the descriptors and the enable line (one per descriptor), a status register for every descriptor is
provided in the register map.
    </p>
    <p>
     <h4>
      Generic regiser map
     </h4>
     Besides DMA specific functions, the DMA control block can also handle generic
     and
     registers for user application.
    </p>
    <p>
     <h4>
      Interrupt handler
     </h4>
     The Engine is provided with a generic MSI-X compatible interrupt controller.
    </p>
    <p>
     <h4>
      Implementation info
     </h4>
     For synthesis and implementation of the cores, it is recommend to use Xilinx Vivado 2014.2.
     Other IP cores (FIFO, clock wizard and PCIe) are provided in the Xilinx .xci format, as well as the constraints file (.xdc) is in the Vivado 2014.2 Format.
     The Engine is also known to work well with Vivado 2014.4, constraints will be updated.
    </p>
    <p>
     For portability reasons, no Xilinx project files will be supplied with the Engine.
     Instead, a bundle of
     has been supplied to create a project and import all necessary files, as well
as to do the synthesis and implementation.
     These scripts are be described in details in the
     
      /documentation/pci_dma_core.pdf
     
     distributed with the Engine.
    </p>
   </div>
   <div id="d_Feedback">
    <h2>
     
     
     Feedback
    </h2>
    <p id="p_Feedback">
     <br/>
     &gt;&gt; Give comments and feedback using the official core thread on the OpenCores forum:
     <br/>
     
      forum_thread
     
    </p>
   </div>
  </div>
  <div style="clear:both;margin-left:200px;">
  </div>
 </div>
</div>
</body>
<p id='foot'>Database updated on 12 June 2015</p>
