<head>
<link rel="stylesheet" href="../../style.css" type="text/css">
</head>
<a href="javascript:history.go(-1)" onMouseOver="self.status=document.referrer;return true">Go Back</a>
<p align='right'><a href='motion_estimation_processor.tar.gz'>Source code</a></p>
<body>
<div class="main">
 <div class="mid" id="dm">
  <div class="content" id="dmc">
   <h2>
    Details
   </h2>
   <p>
    Name: motion_estimation_processor
    <br/>
    Created: Aug 27, 2009
    <br/>
    Updated: Jan  6, 2015
    <br/>
    SVN Updated: Oct 11, 2009
    
    
    
    
    
    
   </p>
   <h2>
    Other project properties
   </h2>
   <p>
    Category:
    
     Video controller
    
    <br/>
    Language:
    
     VHDL
    
    <br/>
    Development status:
    
     Stable
    
    <br/>
    Additional info:
    <br/>
    WishBone Compliant: No
    <br/>
    License: GPL
   </p>
   <div id="d_Description">
    <h2>
     
     
     Description
    </h2>
    <p id="p_Description">
     High-definition programmable and configurable motion estimation processor for H.264, VC-1 and AVS video codecs.
    </p>
   </div>
   <div id="d_Summary">
    <h2>
     
     
     Summary
    </h2>
    <p id="p_Summary">
     The LiquidMotion LMx1 processor is a reconfigurable ASIP (Application Specific Instruction Set Processor) designed to execute user-defined block-matching motion estimation algorithms optimized for hybrid video codecs such as MPEG-2, MPEG-4, H.264 AVC and Microsoft VC-1.  The core offers scalable performance dependent on the features of the chosen algorithm and the number and type of execution units implemented. The ability to program the search algorithm to be used, and to reconfigure the underlying hardware that it will execute on, combines to give an extremely flexible motion estimation processing platform.
     <br/>
     A base configuration consisting of a single 64-bit integer pipeline, capable of processing 1080p HD video at 30 frames per second using a hexagonal motion estimation search followed by a square refine (as used in the opens-source h.264 encoder x264) with 1 reference frame and 16x16 block size can be implemented in 2,300 FPGA logic cells. In contrast, a complex configuration including support for motion vector candidates, sub-blocks, motion vector costing using Lagrangian optimization, four integer-pel execution units and one fractional-pel execution unit plus interpolation will need around 14,000 logic cells. At least one integer-pel execution unit must always be present to generate a valid processor configuration but the others units are optional, and are configured at synthesis time.
     <br/>
    </p>
   </div>
   <div id="d_Features">
    <h2>
     
     
     Features
    </h2>
    <p id="p_Features">
     &#8226;	Intuitive and easy programming using a c-like syntax of user-defined block matching motion estimation algorithms.
     <br/>
     &#8226;	Highly configurable architecture enables the designer to optimize the hardware for the selected algorithm.
     <br/>
     &#8226;	Binary compatibility so that once an algorithm has been compiled it can be executed by any hardware configuration.
     <br/>
     &#8226;	Support of advance features such as rate distortion optimization using Lagrangian techniques, sub-partitions and fractional pel searches
     <br/>
     according to the codec standard.
     <br/>
     &#8226;	Efficient evaluation of multiple user-defined motion vector candidates transparently to the rest of the algorithm.
     <br/>
     &#8226;	Toolset available to enable the efficient exploration of the large design space and the generation of the RTL configuration file for the hardware processor library.
     <br/>
    </p>
   </div>
   <div id="d_Applications">
    <h2>
     
     
     Applications
    </h2>
    <p id="p_Applications">
     &#8226;	Video coding (H.264, MPEG-4, MPEG-2, VC-1, AVS)
     <br/>
     &#8226;	Video enhancement applications such as frame rate conversion, de-interlacing, super-resolution and video
     <br/>
     stabilization.
     <br/>
    </p>
   </div>
   <div id="d_Tools">
    <h2>
     
     
     Tools
    </h2>
    <p id="p_Tools">
     A toolset has been developed that enables the   algorithm designer access to the hardware features without any knowledge of the processor microarchitecture.  The toolset IDE is a fully integrated environment composed of a compiler, assembler, cycle accurate model and RTL export.  The Cycle Accurate Model includes a full implementation of the x264 encoder (open-source h.264) so the designer can quickly evaluate the effects of different motion estimation algorithms in terms of PSNR and bit rate. The algorithm designer can create a new algorithm for the required application using typical C constructs such as for, while loops and if-else constructs. The compiler automatically recognises the search points that correspond to fractional-pel searches and generates the correct instructions.
     <br/>
     Parallelism is extracted by the compiler by coding  search patterns composed of a variable number of search points in a single instruction. The hardware analyses the instruction and distributes the load to the available execution units. Using the cycle accurate model the designer can quickly explore the performance of many configurations in terms of frame per second throughput, compressed video bit-rate and PSNR, hardware complexity and power/energy consumption.
     <br/>
     The impact of changes in the original search algorithm can be  evaluated before exporting the selected configuration hardware file and program binary. The final implementation can then be generated by processing the configuration file and the rest of the RTL processor description with standard tools such as Synplicity and/or Xilinx ISE.
     <br/>
    </p>
   </div>
   <div id="d_Deliverables ">
    <h2>
     
     
     Deliverables
    </h2>
    <p id="p_Deliverables ">
     Toolset (compiler, cycle accurate model and analysis tools) available at
     
      http://seis.bris.ac.uk/~eejlny/binaries/lmcompiler.zip
     
     VHDL configurable processor description, VHDL testbench, FPGA prototype implementation using the PCI bus also available together with the original design team. The cycle accurate simulator supports all the features. The open-source RTL version is free for academic and research purposes and currently supports a single integer pipeline with 16x16 macroblocks. See it working at
     
      http://www.youtube.com/watch?v=TkRnm8qvdDA
     
     . The commercial version RTL supports all the features
    </p>
   </div>
  </div>
  <div style="clear:both;margin-left:200px;">
  </div>
 </div>
</div>
</body>
<p id='foot'>Database updated on 12 June 2015</p>
