<head>
<link rel="stylesheet" href="../../style.css" type="text/css">
</head>
<a href="javascript:history.go(-1)" onMouseOver="self.status=document.referrer;return true">Go Back</a>
<p align='right'><a href='quad_decoder.tar.gz'>Source code</a></p>
<body>
<div class="main">
 <div class="mid" id="dm">
  <div class="content" id="dmc">
   <h2>
    Details
   </h2>
   <p>
    Name: quad_decoder
    <br/>
    Created: Nov  6, 2009
    <br/>
    Updated: Jul 12, 2010
    <br/>
    SVN Updated: Jul 15, 2010
    
    
    
    
    
    
   </p>
   <h2>
    Other project properties
   </h2>
   <p>
    Category:
    
     Other
    
    <br/>
    Language:
    
     VHDL
    
    <br/>
    Development status:
    
     Beta
    
    <br/>
    Additional info:
    
     FPGA proven
    
    <br/>
    WishBone Compliant: Yes
    <br/>
    License: LGPL
   </p>
   <div id="d_Description">
    <h2>
     
     
     Description
    </h2>
    <p id="p_Description">
     VHDL Implementation of a quadrature decoder module with a Wishbone bus interface.  This module has the following features:
     <br/>
     UPDATED per version v1.0.0 Release (July 2010)
     <br/>
     --      July, 2010
     <br/>
     --      1)Release version v1.0.0
     <br/>
     --      2)Changes from prior release:
     <br/>
     --      a) Bit 3 of the Quadrature Control Register (offset 0x00) is now changed
     <br/>
     --      functions, to enable / disable of the Index Zero Count function.  When
     <br/>
     --      the bit is 0, an index event does not affect the count. When the bit is
     <br/>
     --      1, and index events are permitted, the internal quadrature count is set
     <br/>
     --      to 0.
     <br/>
     --      b) Added control bit 13, Index Read Count Bit.  When set to 0, no count
     <br/>
     --      is latched. When set to 1, and index events are permitted, the internal
     <br/>
     --      quadrature count is automatically latched to the QRW (offset 0x08)
     <br/>
     --      register when an index event is true.  This is VERY useful for detection
     <br/>
     --      of missed encoder counts, as you can assume that the delta counts in
     <br/>
     --      between each index event is fixed, so any deviation from the expected
     <br/>
     --      amount indicates that there were missed encoder counts.
     <br/>
     --      3)Tested the FPGA implementation with a real encoder, verified proper
     <br/>
     --      operation with count frequencies up to  1.3MHz (50MHz system clock)
     <br/>
     --      This test used an instrumented motor driver, with a hardware qudrature
     <br/>
     --      decoder in parallel with this encoder module.  This module did not miss
     <br/>
     --      any counts with a 2048 quad counts / rev encoder running at 40e3 rpm.
     <br/>
     --      4) Fixed a minor bug with the QCR_PLCT bit and the QCR_INZC bit; under
     <br/>
     --      a specific condition that both the PLCT bit and the INZC bit were asserted
     <br/>
     --      at the same clock cycle, the PLCT would have been executed while the INZC
     <br/>
     --      event would have been missed.
     <br/>
     --      5) Added an additional feature:  Quadrature Count Compare Match Event;
     <br/>
     --      when the CCME bit is set in the QCR register, and the quadrature count
     <br/>
     --      matches the QRW register, a signal is asserted and the status bit of the
     <br/>
     --      QSR register is set.  This event can also generate an interrupt.
     <br/>
     PREVIOUS UPDATES------------------------------------------------------------
     <br/>
     --Wishbone module for interfacing to optical encoders
     <br/>
     --4X Quadrature decoding of encoder signals
     <br/>
     --Programmable external interrupt request output
     <br/>
     --Dedicated 'latch quadrature count' input for multi-axis syncronization
     <br/>
     --Memory mapped control, status, and count registers
     <br/>
     --Verified on a Xilinx FPGA with a soft core processor (Altium TSK3000)
    </p>
   </div>
  </div>
  <div style="clear:both;margin-left:200px;">
  </div>
 </div>
</div>
</body>
<p id='foot'>Database updated on 12 June 2015</p>
