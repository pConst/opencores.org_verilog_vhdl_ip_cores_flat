<head>
<link rel="stylesheet" href="../../style.css" type="text/css">
</head>
<a href="javascript:history.go(-1)" onMouseOver="self.status=document.referrer;return true">Go Back</a>
<p align='right'><a href='a-z80.tar.gz'>Source code</a></p>
<body>
<div class="main">
 <div class="mid" id="dm">
  <div class="content" id="dmc">
   <h2>
    Details
   </h2>
   <p>
    Name: a-z80
    <br/>
    Created: Dec 12, 2014
    <br/>
    Updated: Dec 24, 2014
    <br/>
    SVN Updated: Jan 23, 2015
    
    
    
    
    
    
   </p>
   <h2>
    Other project properties
   </h2>
   <p>
    Category:
    
     Processor
    
    <br/>
    Language:
    
     Verilog
    
    <br/>
    Development status:
    
     Stable
    
    <br/>
    Additional info:
    
     Design done
    
    ,
    
     FPGA proven
    
    ,
    
     Specification done
    
    <br/>
    WishBone Compliant: No
    <br/>
    License: LGPL
   </p>
   <div id="d_Description">
    <h2>
     
     
     Description
    </h2>
    <p id="p_Description">
     <b>
      A-Z80
     </b>
     is a conceptual implementation of the venerable Zilog Z80 processor targeted to synthesize and run on a modern FPGA device. It differs from the existing (mostly Verilog) Z80 implementations in that it is designed from the ground-up through the schematics and low-level gates. It is a result of a research and tedious reverse-engineering of Z80 at all levels, including micro-photographs of a die.
     <br/>
     <img src="usercontent,img,1418480764" alt="A-Z80 CPU Top-level" width="800"/>
     <br/>
     Project includes a fully working
     implementation based on this CPU.
     <br/>
     It has been described in more details at
     
      BaltazarStudios
     
     .
    </p>
   </div>
   <div id="d_Features">
    <h2>
     
     
     Features
    </h2>
    <p id="p_Features">
     <ul>
      <li>
       Cycle and bus accurate including the correct behavior of nWAIT and nBUSRQ
      </li>
      <li>
       All documented and undocumented opcodes, flags and registers, including R, WZ
      </li>
      <li>
       Following the actual arcitectural model down to the individual gates and registers for some modules
      </li>
      <li>
       Passes ZEXDOC and ZEXLL (except quirky OTIR/LDIR for IX,IY)
      </li>
      <li>
       Correct behavior of BIT n,(HL) to expose WZ
      </li>
      <li>
       All interrupts modes (IM0,IM1,IM2)
      </li>
     </ul>
     Playing
     on A-Z80 based ZX Spectrum implementation:
     <br/>
     <img src="usercontent,img,1418472937" alt="Manic Miner" width="480"/>
    </p>
   </div>
   <div id="d_Documentation">
    <h2>
     
     
     Documentation
    </h2>
    <p id="p_Documentation">
    </p>
    <p style="border-style:solid; border-color:#0000FF; width:480px">
     A
     document is here:
     
      View
     
     <br/>
     Complete
     <b>
      User's Guide
     </b>
     is here:
     
      View
     
     <br/>
     In addition, project files contain a number of readme's to help you understand, recreate it and/or add A-Z80 to your own project.
    </p>
   </div>
   <div id="d_Testbench">
    <h2>
     
     
     Testbench
    </h2>
    <p id="p_Testbench">
     <h3>
      RTL Simulation
     </h3>
     Design is simulated using ModelSim.
     <ul>
      <li>
       Each module contains a ModelSim project
      </li>
      <li>
       Contain individual SystemVerilog test files
      </li>
      <li>
       Test wave (*.do) files to quickly set up views
      </li>
     </ul>
     Framework is also developed around the
     tests (low-level Z80 CPU) that run
each Z80 instruction on the ModelSim and automatically compare to the expected
     test result files. Mis-matches are flagged.
     <br/>
     There is a "quick" sanity test as well as
a much longer comprehensive test.
     <h3>
      Top-level Simulation
     </h3>
     assember is used to generate Z80 program test snippets which are then run
in the simulation and on the actual FPGA hardware. The resulting files should match.
     <br/>
     This level of tests adds UART to the ModelSim and FPGA implementation so the tests can be
run and outputs compared.
     <br/>
     Tests include:
     <ul>
      <li>
       Tests for various complex instructions like DAA, NEG
      </li>
      <li>
       Classic "Hello, World" application
      </li>
      <li>
       Tests for interrupt behavior
      </li>
      <li>
       ...and more tests embedded in *.asm test files
      </li>
     </ul>
     <h3>
      Implementation
     </h3>
     Two complete and working FPGA designs illustrate implementation and test the A-Z80:
     <ul>
      <li>
       Basic Computer using keyboard and UART to run Z80 tests
      </li>
      <li>
       Complete implementation of a
      </li>
     </ul>
     Running
     and
     tests on a Basic Computer implementation:
     <br/>
     <img src="usercontent,img,1418472719" alt="ZEXDOC and ZEXALL"/>
    </p>
   </div>
   <div id="d_Status">
    <h2>
     
     
     Status
    </h2>
    <p id="p_Status">
     This design is fully completed, tested and working.
     <br/>
     A
     -based
     board implementation used about 20% of its LE's.
     <br/>
     <img src="usercontent,img,1418479010" alt="Compiled size"/>
     <br/>
     This implementation is using free Altera tools
     v13.0.1 Web Edition. It also uses Python 2.7 to build some components and tests.
     <br/>
     Although based on Altera devices, this project can be used with other vendors
since each (Quartus-specific) schematic file is pre-compiled into a Verilog file.
    </p>
   </div>
  </div>
  <div style="clear:both;margin-left:200px;">
  </div>
 </div>
</div>
</body>
<p id='foot'>Database updated on 12 June 2015</p>
