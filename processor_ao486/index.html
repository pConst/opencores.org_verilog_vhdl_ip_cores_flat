<head>
<link rel="stylesheet" href="../../style.css" type="text/css">
</head>
<a href="javascript:history.go(-1)" onMouseOver="self.status=document.referrer;return true">Go Back</a>
<p align='right'><a href='ao486.tar.gz'>Source code</a></p>
<body>
<div class="main">
 <div class="mid" id="dm">
  <div class="content" id="dmc">
   <h2>
    Details
   </h2>
   <p>
    Name: ao486
    <br/>
    Created: Mar 30, 2014
    <br/>
    Updated: Aug 19, 2014
    <br/>
    SVN Updated: Aug 19, 2014
    
    
    
    
    
    
   </p>
   <h2>
    Other project properties
   </h2>
   <p>
    Category:
    
     Processor
    
    <br/>
    Language:
    
     Verilog
    
    <br/>
    Development status:
    
     Beta
    
    <br/>
    Additional info:
    
     FPGA proven
    
    <br/>
    WishBone Compliant: No
    <br/>
    License: BSD
   </p>
   <div id="d_Description">
    <h2>
     
     
     Description
    </h2>
    <p id="p_Description">
     The ao486 is an x86 compatible Verilog core implementing all features of a 486 SX.
     <br/>
     The core was modeled and tested based on the Bochs software x86 implementation.
     <br/>
     Together with the 486 core, the ao486 project also contains a SoC capable of
     <br/>
     booting the Linux kernel version 3.13 and Microsoft Windows 95.
    </p>
   </div>
   <div id="d_Current status">
    <h2>
     
     
     Current status
    </h2>
    <p id="p_Current status">
     <ul>
      <li>
       31 March 2014 - initial version 1.0.
      </li>
      <li>
       19 August 2014 - driver_sd update, ps2 fix.
      </li>
     </ul>
    </p>
   </div>
   <div id="d_Links">
    <h2>
     
     
     Links
    </h2>
    <p id="p_Links">
     <ul>
      <li>
       ao486 project on github.com:
       
        http://github.com/alfikpl/ao486
       
       .
      </li>
     </ul>
    </p>
   </div>
   <div id="d_Features">
    <h2>
     
     
     Features
    </h2>
    <p id="p_Features">
     The ao486 processor model has the following features:
     <ul>
      <li>
       pipeline architecture with 4 main stages: decode, read, execute and write,
      </li>
      <li>
       all 486 instructions are implemented, together with CPUID,
      </li>
      <li>
       16 kB instruction cache,
      </li>
      <li>
       16 kB write-back data cache,
      </li>
      <li>
       TLB for 32 entries,
      </li>
      <li>
       Altera Avalon interfaces for memory and io access.
      </li>
     </ul>
     The ao486 SoC consists of the following components:
     <ul>
      <li>
       ao486 processor,
      </li>
      <li>
       IDE hard drive that redirects to a HDL SD card driver,
      </li>
      <li>
       floppy controller that also redirects to the SD card driver,
      </li>
      <li>
       8259 PIC,
      </li>
      <li>
       8237 DMA,
      </li>
      <li>
       Sound Blaster 2.0 with DSP and OPL2 (FM synthesis not fully working).
  Sound output redirected to a WM8731 audio codec,
      </li>
      <li>
       8254 PIT,
      </li>
      <li>
       8042 keyboard and mouse controller,
      </li>
      <li>
       RTC,
      </li>
      <li>
       standard VGA.
      </li>
     </ul>
    </p>
    <p>
     All components are modeled as Altera Qsys components. Altera Qsys connects all
parts together, and supplies the SDRAM controller.
    </p>
    <p>
     The ao486 project is currently only running on the Terasic DE2-115 board.
    </p>
   </div>
   <div id="d_Resource usage">
    <h2>
     
     
     Resource usage
    </h2>
    <p id="p_Resource usage">
     The project is synthesised for the Altera Cyclone IV E EP4CE115F29C7 device.
Resource utilization is as follows:
     <table border="1">
      <tr>
       <th>
        Unit
       </th>
       <th>
        Logic cells
       </th>
       <th>
        M9K memory blocks
       </th>
      </tr>
      <tr>
       <td>
        ao486 processor
       </td>
       <td>
        36517
       </td>
       <td>
        47
       </td>
      </tr>
      <tr>
       <td>
        floppy
       </td>
       <td>
        1514
       </td>
       <td>
        2
       </td>
      </tr>
      <tr>
       <td>
        hdd
       </td>
       <td>
        2071
       </td>
       <td>
        17
       </td>
      </tr>
      <tr>
       <td>
        nios2
       </td>
       <td>
        1056
       </td>
       <td>
        3
       </td>
      </tr>
      <tr>
       <td>
        onchip for nios2
       </td>
       <td>
        0
       </td>
       <td>
        32
       </td>
      </tr>
      <tr>
       <td>
        pc_dma
       </td>
       <td>
        848
       </td>
       <td>
        0
       </td>
      </tr>
      <tr>
       <td>
        pic
       </td>
       <td>
        388
       </td>
       <td>
        0
       </td>
      </tr>
      <tr>
       <td>
        pit
       </td>
       <td>
        667
       </td>
       <td>
        0
       </td>
      </tr>
      <tr>
       <td>
        ps2
       </td>
       <td>
        742
       </td>
       <td>
        2
       </td>
      </tr>
      <tr>
       <td>
        rtc
       </td>
       <td>
        783
       </td>
       <td>
        1
       </td>
      </tr>
      <tr>
       <td>
        sound
       </td>
       <td>
        37131
       </td>
       <td>
        29
       </td>
      </tr>
      <tr>
       <td>
        vga
       </td>
       <td>
        2534
       </td>
       <td>
        260
       </td>
      </tr>
     </table>
    </p>
    <p>
     The fitter raport after compiling all components of the ao486 project is as
follows:
    </p>
    <code>
     Fitter Status : Successful - Sun Mar 30 21:00:13 2014
     <br/>
     Quartus II 64-Bit Version : 13.1.0 Build 162 10/23/2013 SJ Web Edition
     <br/>
     Revision Name : soc
     <br/>
     Top-level Entity Name : soc
     <br/>
     Family : Cyclone IV E
     <br/>
     Device : EP4CE115F29C7
     <br/>
     Timing Models : Final
     <br/>
     Total logic elements : 91,256 / 114,480 ( 80 % )
     <br/>
     Total combinational functions : 86,811 / 114,480 ( 76 % )
     <br/>
     Dedicated logic registers : 26,746 / 114,480 ( 23 % )
     <br/>
     Total registers : 26865
     <br/>
     Total pins : 108 / 529 ( 20 % )
     <br/>
     Total virtual pins : 0
     <br/>
     Total memory bits : 2,993,408 / 3,981,312 ( 75 % )
     <br/>
     Embedded Multiplier 9-bit elements : 44 / 532 ( 8 % )
     <br/>
     Total PLLs : 1 / 4 ( 25 % )
     <br/>
    </code>
    <p>
     The maximum frequency is 39 MHz. The project uses a 30 MHz clock.
    </p>
   </div>
   <div id="d_CPU benchmarks">
    <h2>
     
     
     CPU benchmarks
    </h2>
    <p id="p_CPU benchmarks">
     The package DosTests.zip from
     
      http://www.roylongbottom.org.uk/dhrystone%20results.htm
     
     was used to benchmark the ao486.
     <table border="1">
      <tr>
       <th>
        Test
       </th>
       <th>
        Result
       </th>
      </tr>
      <tr>
       <td>
        Dhryston 1 Benchmark Non-Optimised
       </td>
       <td>
        1.00 VAX MIPS
       </td>
      </tr>
      <tr>
       <td>
        Dhryston 1 Benchmark Optimised
       </td>
       <td>
        4.58 VAX MIPS
       </td>
      </tr>
      <tr>
       <td>
        Dhryston 2 Benchmark Non-Optimised
       </td>
       <td>
        1.01 VAX MIPS
       </td>
      </tr>
      <tr>
       <td>
        Dhryston 2 Benchmark Optimised
       </td>
       <td>
        3.84 VAX MIPS
       </td>
      </tr>
     </table>
    </p>
   </div>
   <div id="d_Running software">
    <h2>
     
     
     Running software
    </h2>
    <p id="p_Running software">
     The ao486 successfuly runs the following software:
     <ul>
      <li>
       Microsoft MS-DOS version 6.22,
      </li>
      <li>
       Microsoft Windows for Workgroups 3.11,
      </li>
      <li>
       Microsoft Windows 95,
      </li>
      <li>
       Linux 3.13.1.
      </li>
     </ul>
    </p>
   </div>
   <div id="d_BIOS">
    <h2>
     
     
     BIOS
    </h2>
    <p id="p_BIOS">
    </p>
    <p>
     The ao486 project uses the BIOS from the Bochs project
(http://bochs.sourceforge.net, version 2.6.2). Some minor changes
were required to support the hard drive.
    </p>
    <p>
     The VGA BIOS is from the VGABIOS project (http://www.nongnu.org/vgabios,
version 0.7a). No changes were required. The VGA model does not have VBE
extensions, so the extensions were disabled.
    </p>
   </div>
   <div id="d_NIOS2 controller">
    <h2>
     
     
     NIOS2 controller
    </h2>
    <p id="p_NIOS2 controller">
    </p>
    <p>
     The ao486 SoC uses a Altera NIOS2 processor for managing all components and
displaying the contents of the On Screen Display.
    </p>
    <p>
     The OSD allows the user to insert and remove floppy disks.
    </p>
   </div>
   <div id="d_License">
    <h2>
     
     
     License
    </h2>
    <p id="p_License">
     All files in the following directories:
     <ul>
      <li>
       rtl,
      </li>
      <li>
       ao486_tool,
      </li>
      <li>
       sim.
      </li>
     </ul>
     are licensed under the BSD license:

All files in the following directories:
     <ul>
      <li>
       bochs486,
      </li>
      <li>
       bochsDevs.
      </li>
     </ul>
     are taken from the Bochs Project and are licensed under the LGPL license.
    </p>
    <p>
     The binary file sd/fd_1_44m/fdboot.img is taken from the FreeDOS project.
    </p>
    <p>
     The binary file sd/bios/bochs_legacy is a compiled BIOS from the Bochs project.
    </p>
    <p>
     The binary file sd/vgabios/vgabios-lgpl is a compiled VGA BIOS from the vgabios
project.
    </p>
   </div>
  </div>
  <div style="clear:both;margin-left:200px;">
  </div>
 </div>
</div>
</body>
<p id='foot'>Database updated on 12 June 2015</p>
