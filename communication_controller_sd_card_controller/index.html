<head>
<link rel="stylesheet" href="../../style.css" type="text/css">
</head>
<a href="javascript:history.go(-1)" onMouseOver="self.status=document.referrer;return true">Go Back</a>
<p align='right'><a href='sdcard_mass_storage_controller.tar.gz'>Source code</a></p>
<body>
<div class="main">
 <div class="mid" id="dm">
  <div class="content" id="dmc">
   <h2>
    Details
   </h2>
   <p>
    Name: sdcard_mass_storage_controller
    <br/>
    Created: Mar 27, 2009
    <br/>
    Updated: May  3, 2013
    <br/>
    SVN Updated: Oct 15, 2010
    
    
    
    
    
    
   </p>
   <h2>
    Other project properties
   </h2>
   <p>
    Category:
    
     Communication controller
    
    <br/>
    Language:
    
     Verilog
    
    <br/>
    Development status:
    
     Stable
    
    <br/>
    Additional info:
    
     Design done
    
    ,
    
     FPGA proven
    
    ,
    
     Specification done
    
    <br/>
    WishBone Compliant: Yes
    <br/>
    License: LGPL
   </p>
   <div id="d_Introduction">
    <h2>
     
     
     Introduction
    </h2>
    <p id="p_Introduction">
     The "sd card controller" is a Secure Digital Card Host Controller, which main focus is to provide fast and simple interface to SD/SDHC cards. One of the main goal with this project is that the controller should be usable as a system disk contain a file system. Therefore the core has been developed with features a system with operative system will benefit from.  
The design also include a simplified model of a SD-card to test against.
     <br/>
     <img src="getimg.php?1242830780" width="75%" alt="Architecture"/>
     http://www.opencores.org/?do=project&amp;who=sdcard_mass_storage_controller&amp;page=overview
2009-05-20
    </p>
   </div>
   <div id="d_Description">
    <h2>
     
     
     Description
    </h2>
    <p id="p_Description">
     The core is a combined SD/SDHC controller, for Secure Digital-card.  

Two designs is available, one full-feature core utilizing DMA and one smaller for PIO.
     <br/>
     The idea with the full-feature design is that it should provide as much performance as possible. Therefore it's build to stall the CPU as little as possible and offload it some computations, this is archived by:
     <ul>
      <li>
       Error and flow control performed mainly in hardware i.e user specify when sending a command what kind of error check he wants to be performed. Result is then set in the response registers also can be set to generate interrupt.
      </li>
      <li>
       Command generation for writing/reading block of data is performed in hardware
      </li>
      <li>
       Buffer descriptors is used to to queue read/write data transmissions (Less delay between data transmissions)
      </li>
      <li>
       DMA for minimal CPU interruption as possible.
      </li>
     </ul>
     The small design utilize the
     
      Versatile FIFO
     
     , together with 4 control register for operation.
    </p>
   </div>
   <div id="d_Features">
    <h2>
     
     
     Features
    </h2>
    <p id="p_Features">
    </p>
    <p>
     <b>
      Full-feature core
     </b>
    </p>
    <ul>
     <li>
      32-bit Wishbone Interface
     </li>
     <li>
      DMA
     </li>
     <li>
      Buffer Descriptor
     </li>
     <li>
      Compliant with SD Host Controller Spec version 2.0
     </li>
     <li>
      Support SD 4-bit mode
     </li>
     <li>
      Interrupt-on completion of Data and Command transmission
     </li>
     <li>
      Write/Read FIFO with variable size
     </li>
     <li>
      Internal implementation of CRC16 for data lines and CRC7 for command line
     </li>
    </ul>
    <p>
     <b>
      Small-FIFO core
     </b>
    </p>
    <ul>
     <li>
      8-bit Wishbone Interface
     </li>
     <li>
      PIO
     </li>
     <li>
      Compliant with SD Host Controller Spec version 2.0
     </li>
     <li>
      Support SD 4-bit mode
     </li>
     <li>
      Simple SW interface, 4 FIFO + 4 Registers
     </li>
    </ul>
   </div>
   <div id="d_Limitations">
    <h2>
     
     
     Limitations
    </h2>
    <p id="p_Limitations">
     Data block length fixed to 512 Byte
     <br/>
     No SD 1-bit mode
     <br/>
     No SPI mode
     <br/>
     No Hot Insertion (i.e. inserting a card when the bus is operating)
     <br/>
     No multiple block operations/pre erase
     <br/>
    </p>
   </div>
  </div>
  <div style="clear:both;margin-left:200px;">
  </div>
 </div>
</div>
</body>
<p id='foot'>Database updated on 12 June 2015</p>
