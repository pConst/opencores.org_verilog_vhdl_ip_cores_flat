<head>
<link rel="stylesheet" href="../../style.css" type="text/css">
</head>
<a href="javascript:history.go(-1)" onMouseOver="self.status=document.referrer;return true">Go Back</a>
<p align='right'><a href='brainfuckcpu.tar.gz'>Source code</a></p>
<body>
<div class="main">
 <div class="mid" id="dm">
  <div class="content" id="dmc">
   <h2>
    Details
   </h2>
   <p>
    Name: brainfuckcpu
    <br/>
    Created: Sep  3, 2014
    <br/>
    Updated: Sep  7, 2014
    <br/>
    SVN Updated: Sep  7, 2014
    
    
    
    
    
    
   </p>
   <h2>
    Other project properties
   </h2>
   <p>
    Category:
    
     Processor
    
    <br/>
    Language:
    
     Verilog
    
    <br/>
    Development status:
    
     Beta
    
    <br/>
    Additional info:
    <br/>
    WishBone Compliant: No
    <br/>
    License: LGPL
   </p>
   <div id="d_Description">
    <h2>
     
     
     Description
    </h2>
    <p id="p_Description">
     Brainfuck CPU is a hardware implementation of Brainfuck programing language. It uses simple 2-stage pipelining and Harvard's architecture.
     <br/>
     This CPU is very similar to Touring machine. It operates over linear memory space. Main difference is that the memory if finite.
     <br/>
     Instruction set is fairy simple. Opcodes are only 3-bit wide. This allows lower usage of resources over original coding (7 bit ASCII). Verion using original instruction set is available as well.
     <br/>
     Can't place oposite of &gt; char for some reason, so I'll use "(oposite of &gt;)" instead.
    </p>
   </div>
   <div id="d_Opcodes">
    <h2>
     
     
     Opcodes
    </h2>
    <p id="p_Opcodes">
     Opcodes:
     <br/>
     000 == (oposite of &gt;) (move pointer left)
     <br/>
     001 == &gt; (move pointer right)
     <br/>
     010 == + (add 1 to value of current memory cell)
     <br/>
     011 == - (subtract 1 from value of current memory cell)
     <br/>
     100 == , (read from I/O port)
     <br/>
     101 == . (write to I/O port)
     <br/>
     110 == [ (begining of loop)
     <br/>
     111 == ] (end of loop)
     <br/>
     ASCII opcodes (7-bit):
     <br/>
     0x3C == (oposite of &gt;)
     <br/>
     0x3E == &gt;
     <br/>
     0x2B == +
     <br/>
     0x2D == -
     <br/>
     0x2C == ,
     <br/>
     0x2E == .
     <br/>
     0x5B == [
     <br/>
     0x5D == ]
     <br/>
     other == NOP
    </p>
   </div>
   <div id="d_Opcodes timing">
    <h2>
     
     
     Opcodes timing
    </h2>
    <p id="p_Opcodes timing">
     At start it is necesary to reset all memory locations to 0. CPU does that automatically after reset.
     <br/>
     Operations '+', '-', ',' and '.' are always completed in one cycle. As it is necessary to load or store memory cell from/to memory, '&gt;' and (oposite of &gt;) takes two cycles to finish. Opcode ']' takes two cycles on loop finish and one on end, but '[' is a special case. If loop condition is not met (current cell is not 0) it takes one cycle. But in worst case scenario condition is meet at entry. It means that CPU has to find closing bracket ']'. This can waste many time, but it is situation that should not occur, if program is writen correctly.
    </p>
   </div>
   <div id="d_Files">
    <h2>
     
     
     Files
    </h2>
    <p id="p_Files">
     CPU is only one file: "brainfuck_cpu.v". It is CPU core and it requires addition of ROM and RAM.
     <br/>
     Second file is testbench "brainfuck_cpu_tb.v". It demonstrates execution of "Hello World!" program writen in Brainfuck and compresed to 3 bits.
    </p>
   </div>
   <div id="d_Parameters">
    <h2>
     
     
     Parameters
    </h2>
    <p id="p_Parameters">
     brainfuck_cpu.v accepts 3 parameters:
     <br/>
     DATA_ADDR_WIDTH - defines width of data memory address bus and in consequence size of this memory.
     <br/>
     ROM_ADDR_WIDTH - defines width of program memory address bus and in consequence size of this memory. Note that Brainfuck language requires a lot of program memory. "Hello World!" program uses 115 cells.
     <br/>
     STACK_DEPTH - defines depth of stack. Stack is used to keep track of execution of loops. It's depth imposes maximal level of loops nesting.
    </p>
   </div>
  </div>
  <div style="clear:both;margin-left:200px;">
  </div>
 </div>
</div>
</body>
<p id='foot'>Database updated on 12 June 2015</p>
