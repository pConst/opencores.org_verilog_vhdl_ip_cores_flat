<head>
<link rel="stylesheet" href="../../style.css" type="text/css">
</head>
<a href="javascript:history.go(-1)" onMouseOver="self.status=document.referrer;return true">Go Back</a>
<p align='right'><a href='v586.tar.gz'>Source code</a></p>
<body>
<div class="main">
 <div class="mid" id="dm">
  <div class="content" id="dmc">
   <h2>
    Details
   </h2>
   <p>
    Name: v586
    <br/>
    Created: Oct 12, 2014
    <br/>
    Updated: May 31, 2015
    <br/>
    SVN Updated: May  7, 2015
    
    
    
    
    
    
   </p>
   <h2>
    Other project properties
   </h2>
   <p>
    Category:
    
     Processor
    
    <br/>
    Language:
    
     Verilog
    
    <br/>
    Development status:
    
     Beta
    
    <br/>
    Additional info:
    
     FPGA proven
    
    <br/>
    WishBone Compliant: Yes
    <br/>
    License: BSD
   </p>
   <div id="d_Description">
    <h2>
     
     
     Description
    </h2>
    <p id="p_Description">
     This project is a soft processor core compatible with 586 instruction set.
     <br/>
     It has been developped on Nexys4 board, with Artix7-100 FPGA with external SRAM and SPI flash.
     <br/>
     The project contains the core and also a platform to demonstrate the core with interfaces for
     <br/>
     external 16MB SRAM and 128Mbit SPI Flash.
     <br/>
     The platform boots linux kernel with a ramdisk contained in the SPI flash.
     <br/>
     The processor core has wishbone interface.
     <br/>
     ** CORE DETAILS:
     <br/>
     * Features:
     <br/>
     - 586 instruction set implementation, conditional mov added.
     <br/>
     - MMU with protected and paged mode supported with 4KB page size.
     <br/>
     - TLB 8 entries
     <br/>
     - CPUID (0x0617)and CMPXCHG8B are implemented, with conditional mov.
     <br/>
     - pre-fetch queue is 32 bytes long.
     <br/>
     - 8kB Instruction cache, 8kB Data cache, 128bit loaded at once into prefetch queue.
     <br/>
     - Hardware multiplication and Division
     <br/>
     - 32 bit wishbone interface with bursts.
     <br/>
     - ~16000 dhrystones v2.1 @ 75MHz with -O2 option under gcc 4.6.2, no register, around ~ 9 VAX MIPS.
     <br/>
     * Known limitations:
     <br/>
     - no FPU, but emulation mechanism with "device not available" fault #7.
     <br/>
     - some instruction are missing, but not used in Linux/GCC : like the decimal adjust.
     <br/>
     - Protected and Paged mode are supported, there are some limitation in the protected
     <br/>
     mode implementation like segment limit.
     <br/>
     - bits and features for MSR/TSC/PAE/NX bit not implemented.
     <br/>
     - MMU page size is 4KB , no PSE / PSE36 bit supported
     <br/>
     - Segment prefix in protected mode are the default or GS descriptor, FS prefix
     <br/>
     in protected mode is not used in Linux 32b.
     <br/>
     **PLATFORM DETAILS:
     <br/>
     HARDWARE:
     <br/>
     - Minimal set of peripherals : timer and interrupt controller.
     <br/>
     - one 16750 interface with 64byte fifo , re-used from uart16750 opencore project.
     <br/>
     - IT87xx SuperIO chip implemented only for GPIOs parts. 16x GPIOs Connected to leds of nexys4.
     <br/>
     ( GPIO Linux driver fot IT87 compatible with userspace interface. )
     <br/>
     - SPI interface serial-in , parallel out
     <br/>
     - Bus Interface Unit to arbitrate between instruction fetch and data operations and
     <br/>
     also MMU specific operation like updating the bit for page directory/table entries.
     <br/>
     - The Platform mapping in the Artix7-100 fills 42% and clock frequency used in the project is 75MHz
     <br/>
     - clock divider for timer and uart are hard coded for 75MHz base clock.
     <br/>
     SOFTWARE:
     <br/>
     - internal ROM to boot and copy SPI flash into RAM, provide minimal description
     <br/>
     and configuration for Linux with command line to configure TTY console on uart
     <br/>
     at 115200 baud.
     <br/>
     - SPI image with Linux 3.19 ( 3.17/3.14/3.12/2.6.x were tested as well) and initramfs
     <br/>
     with busybox built from buildroot 2015.02 with dhrsytone/whetstone utilities.
     <br/>
     - Kernel has been built on regular PC UBUNTU 14.04LTS with regular GCC as well.
     <br/>
     - .config file for the kernel included, settings optimized for size and FPU emulation on.
     <br/>
     - testbench and script to run under verilator simulator
     <br/>
     ** CODE
     <br/>
     - Structural Verilog with description in technology independent gates.
     <br/>
     - Routing of such structure on FPGA is fast.
     <br/>
     ********** USEFUL NOTICE
     <br/>
     notice: you need on nexys4 board to put SW1 and SW2 ON while SW0 is reset.
     <br/>
     otherwise SW1-SW2 sets test modes.
     <br/>
     toggle SW0 to reset/start the fpga.
    </p>
   </div>
   <div id="d_Links">
    <h2>
     
     
     Links
    </h2>
    <p id="p_Links">
     More versions of the core are also available on
     
      http://www.valptek.com
     
     <br/>
     For instance evolutions with :
     <br/>
     - different cache configurations and size
     <br/>
     - optimization for lower area
     <br/>
     - customizable/extendable instruction set for supporting custom vector opcodes.
     <br/>
     - dual core versions
     <br/>
     videos on youtube can be found here :
     
      https://www.youtube.com/channel/UCNbm8Bah54cwhedmCRWyXMA/videos
     
     <br/>
     follow us on google plus :
     
      https://plus.google.com/104996856716004023340/posts
     
    </p>
   </div>
  </div>
  <div style="clear:both;margin-left:200px;">
  </div>
 </div>
</div>
</body>
<p id='foot'>Database updated on 12 June 2015</p>
